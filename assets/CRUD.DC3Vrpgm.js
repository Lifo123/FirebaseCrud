import{j as e}from"./jsx-runtime.CdUEbdov.js";/* empty css                       */import{d as i}from"./firebase.J1YtV1My.js";import{r as m,a as b,q as y,l as P,o as N,b as v}from"./index.esm2017.enH01Utu.js";import{r as u}from"./index.YZ_XhM9s.js";import{J as h}from"./_astro-entry_sonner.BrdQ6kbN.js";import"./index.CTAGWh-w.js";function g({className:r="",line:c={},styleParent:o={}}){return e.jsx("span",{className:"load-bg d-flex f-center relative h-100 w-100 br-10",children:e.jsx("span",{className:`load-circle d-flex f-center m-auto relative ${r}`,style:o,children:e.jsx("svg",{className:"d-flex relative",children:e.jsx("circle",{className:"absolute",cx:"70",cy:"70",r:"70",style:c})})})})}function R(){const[r,c]=u.useState([]),o=async s=>{try{const t=m(i,`products/${s.replace(".",",")}`);await b(t),h.success("Product deleted successfully")}catch{h.error("Error deleting product")}},x=()=>{const s=m(i,"products"),t=y(s,N("createAt"),P(10));return new Promise((f,l)=>{v(t,a=>{const n=a.val();if(n){const d=Object.values(n).sort((j,p)=>p.createAt-j.createAt);c(d),f(d)}else l("No se encontraron productos")},a=>{l(a)})})};return u.useEffect(()=>{x()},[]),r.length>0?e.jsxs("table",{className:"excel-table br-10 o-hidden w-100 sd-3",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Stock"}),e.jsx("th",{children:"Delete"})]})}),e.jsx("tbody",{children:r?.map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{children:s?.name}),e.jsx("td",{children:s?.price}),e.jsx("td",{children:s?.stock}),e.jsx("td",{className:"td-delete pointer",onClick:()=>o(s?.name),children:"Delete"})]},t))})]}):e.jsx(g,{styleParent:{scale:"0.45",marginBottom:20},line:{strokeWidth:8}})}export{R as default};
